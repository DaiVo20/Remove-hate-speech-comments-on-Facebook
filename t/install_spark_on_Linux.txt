============Install Python===========
sudo apt update && sudo apt -y upgrade
sudo apt install python3-pip


============Anaconda===========
bash Anaconda3-2022.05-Linux-x86_64.sh
gedit ~/.local/share/applications/anaconda.desktop

[Desktop Entry]
Version=1.0
Type=Application
Name=Anaconda
Exec=/home/dinhco01/anaconda3/bin/anaconda-navigator
Icon=/home/dinhco01/Pictures/conda.png
Terminal=false

source ~/.bashrc

source ~/anaconda3/etc/profile.d/conda.sh
export PATH="/home/dinhco01/anaconda3/bin:$PATH"
============Spark===========

sudo apt install default-jdk scala git -y
java -version; javac -version; scala -version; git --version
wget https://downloads.apache.org/spark/spark-3.0.3/spark-3.0.3-bin-hadoop2.7.tgz 
tar xvf spark-*
sudo mv spark-3.0.3-bin-hadoop2.7/ /opt/spark

sudo rm -r /opt/spark

echo "export SPARK_HOME=/opt/spark" >> ~/.profile
echo "export PATH=$PATH:$SPARK_HOME/bin:$SPARK_HOME/sbin" >> ~/.profile
echo "export PYSPARK_PYTHON=/home/dinhco01/anaconda3/envs/bigdl/bin/python" >> ~/.profile

export SPARK_HOME=/opt/spark
export PATH=$PATH:$SPARK_HOME/bin:$SPARK_HOME/sbin
export ANACONDA_ROOT=~/anaconda3
export PYSPARK_DRIVER_PYTHON=$ANACONDA_ROOT/bin/ipython
export PYSPARK_PYTHON=$ANACONDA_ROOT/bin/python

source ~/.profile

start-master.sh
http://127.0.0.1:8080/
start-slave.sh spark://master:port

start-master.sh
stop-master.sh
start-slave.sh
stop-slave.sh
start-all.sh
stop-all.sh

spark-shell

========Install BigDL==========
conda env remove -n bigdl

conda create -n bigdl python=3.7

conda activate bigdl

sudo apt-get install openjdk-8-jre
sudo apt install openjdk-8-jdk-headless

echo "export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/" >> ~/.profile
echo "export PATH=$PATH:$JAVA_HOME/bin" >> ~/.profile

export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/
export PATH=$PATH:$JAVA_HOME/bin
java -version

pip install findspark
pip install ipykernel
pip install notebook
pip install bigdl

============Uninstall JDK===========
dpkg-query -W -f='${binary:Package}\n' | grep -E -e '^(ia32-)?(sun|oracle)-java' -e '^openjdk-' -e '^icedtea' -e '^(default|gcj)-j(re|dk)' -e '^gcj-(.*)-j(re|dk)' -e '^java-common' | xargs sudo apt-get -y remove23

sudo apt-get -y autoremove

dpkg -l | grep ^rc | awk '{print($2)}' | xargs sudo apt-get -y purge

sudo bash -c 'ls -d /home/*/.java' | xargs sudo rm -rf
sudo rm -rf /usr/lib/jvm/*

for g in ControlPanel java java_vm javaws jcontrol jexec keytool mozilla-javaplugin.so orbd pack200 policytool rmid rmiregistry servertool tnameserv unpack200 appletviewer apt extcheck HtmlConverter idlj jar jarsigner javac javadoc javah javap jconsole jdb jhat jinfo jmap jps jrunscript jsadebugd jstack jstat jstatd native2ascii rmic schemagen serialver wsgen wsimport xjc xulrunner-1.9-javaplugin.so; do sudo update-alternatives --remove-all $g; done

sudo updatedb
sudo locate -b '\pack200'

sudo rm -rf /path/to/jre1.6.0_34
